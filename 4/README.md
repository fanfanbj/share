#“宠物”模式与“牛车”模式
家禽不是宠物，这已经不是一个新的话题，已经成为业界非常常见的管理服务的新的方式。第一次看到这样的说法，觉得比喻非常好。那是今年6月份，那时，我才开始接触容器与微服务这方面的知识，Microservices Day London最后一篇精选演讲：《微服务与容器》，文中提到“微伸缩”的概念，介绍了谷歌和Netflix如何使用容器做到数据中心的超高利用率和对业务的弹性伸缩，也改变了我对弹性伸缩的认识。第二次看到这个比喻是在Pivotal案例实践中《企业级Java应用探秘及其如何推动“平台转换”》，他将JEE服务器放入Docker镜像中，比同把“宠物”塞入“牛车”中。两篇文章都肯定了Docker容器是非常棒，非常优秀的解决方案。

## 微伸缩
提到Paas平台，就会提到弹性伸缩这一概念。很长一段时间，我的售前PPT都有一页关于自动弹性伸缩。我不知道这个图的来源。就是觉得"很牛"。但仔细一开，发现还有错误。囧。

![image](https://github.com/fanfanbj/share/blob/master/4/scale.png)
自动弹性扩展也就出现在售前PPT中，因为它只是人们对容器的benefit的美好蓝图，却不明落地。现实场景中，弹性伸缩需要增加额外的资源而这绝不可能是实时的。但你可能可以通过容器实时的重用已经存在的资源。“如果我们在发生峰值时把这些时间不敏感的任务所使用的资源分给时间敏感的服务使用，或许我们就不需要弹性伸缩，也不需要提前预测需求”。这其实差不多就是谷歌和Netflix如何利用容器使得他们的系统能实时和自管理。

假如你提供了两种服务，一种是非常重要和时间敏感的，另外一个是重要的，但是时间上不敏感。一种是对时间非常敏感的高优先级服务，另外一种是低优先级服务，可能是批处理任务，不太在意用多长时间运”。我们可以利用调度器与编排系统协同去尽量满足业务的要求，而同时使用所有的其它资源运行批处理业务。

微伸缩的前提是微服务，Google的Borg所有的服务都是微服务。王总说，我们要以Google的Borg为标杆，它的服务抢占就是微伸缩的概念。

